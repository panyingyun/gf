# 实现Go搜索命令行工具

## 功能需求

1. **文件内容搜索模式** (`gf -f "abc" /`): 递归搜索目录，查找文件内容包含指定字符串的文件，输出文件路径和匹配行号
2. **文件名搜索模式** (`gf -g "abc" /`): 递归搜索目录，查找文件名包含指定字符串的文件，输出文件路径

## 实现方案

### 主要文件

- [main.go](../main.go) - 主程序入口，包含命令行参数解析和核心搜索逻辑

### 实现要点

1. **命令行参数解析**

   - 使用 `flag` 包处理 `-f` 和 `-g` 参数
   - `-f` 后跟搜索字符串，表示文件内容搜索
   - `-g` 后跟搜索字符串，表示文件名搜索
   - 最后一个参数为目标目录路径

2. **文件内容搜索（-f模式）**

   - 使用 `filepath.Walk` 递归遍历目录
   - 对每个文件，逐行读取内容
   - 检查每行是否包含搜索字符串
   - 输出格式：`文件路径:行号:匹配行内容`

3. **文件名搜索（-g模式）**

   - 使用 `filepath.Walk` 递归遍历目录
   - 检查文件名（不含路径）是否包含搜索字符串
   - 输出格式：`文件路径`

4. **错误处理**

   - 处理目录不存在的情况
   - 处理文件读取权限问题
   - 跳过无法访问的文件/目录

### 代码结构

```go
// 伪代码结构
func main() {
    // 解析命令行参数
    // 根据 -f 或 -g 选择搜索模式
    // 调用相应的搜索函数
}

func searchInFiles(pattern, rootDir string) {
    // 文件内容搜索逻辑
}

func searchInFilenames(pattern, rootDir string) {
    // 文件名搜索逻辑
}
```

## 实现步骤

1. 在 `main.go` 中实现命令行参数解析
2. 实现文件内容搜索函数（-f模式）
3. 实现文件名搜索函数（-g模式）
4. 添加错误处理和边界情况处理
5. 确保输出格式清晰易读

## 实现状态

✅ 所有功能已完成实现

- ✅ 命令行参数解析
- ✅ 文件内容搜索功能（-f模式）
- ✅ 文件名搜索功能（-g模式）
- ✅ 错误处理

